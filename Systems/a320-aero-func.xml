<flight_control name="Aero Func">
	
	<channel name="extra-aero">
		
		<!-- need %Cg in chord for moments [Xcg - Xref)/100] -->
		<summer name="cg-x-offset-chord-in">
			<input> inertia/cg-x-in</input>
			<input> -metrics/aero-rp-x-in</input>
			<output>inertia/cg-x-offset-chord-in</output>
		</summer>
		
		<!-- figure out the factor for the fuel tank aero -->
		<pure_gain name="cg-x-chord-percent">
			<description>Percent offset of the CoP from the CG</description>
			<input>inertia/cg-x-offset-chord-in</input>
			<gain> -0.01</gain>
			<clipto>
				<min> -1 </min>
				<max> 1 </max>
			</clipto>
			<output> inertia/cg-x-mac-percent </output>
		</pure_gain>
		
		<fcs_function name="pb">
			<description>PB Denormalization</description>
			<function>
				<quotient>
					<product>
						<property>metrics/bw-ft</property>
						<property>velocities/p-aero-rad_sec</property>
					</product>
					<!-- over -->
					<product>
						<value>2</value>
						<property>velocities/vt-fps</property>
					</product>
				</quotient>
			</function>
			<clipto>
				<min> -1.00 </min>
				<max>  1.00 </max>
			</clipto>
			<output>aero/pb</output>
		</fcs_function>
		
		<fcs_function name="cbarq-2vo">
			<description>For denormalization</description>
			<function>
				<quotient>
					<product>
						<property>metrics/cbarw-ft</property>
						<property>velocities/q-aero-rad_sec</property>
					</product>
					<!-- over -->
					<product>
						<value>2</value>
						<property>velocities/vt-fps</property>
					</product>
				</quotient>
			</function>
			<clipto>
				<min> -2.01 </min>
				<max>  2.01 </max>
			</clipto>
			<output>aero/qb</output>
		</fcs_function>
		
		<fcs_function name="rb-2vo">
			<description>For denormalization</description>
			<function>
				<quotient>
					<product>
						<property>metrics/bw-ft</property>
						<property>velocities/r-aero-rad_sec</property>
					</product>
					<!-- over -->
					<product>
						<value>2</value>
						<property>velocities/vt-fps</property>
					</product>
				</quotient>
			</function>
			<clipto>
				<min> -1.00 </min>
				<max>  1.00 </max>
			</clipto>
			<output>aero/rb</output>
		</fcs_function>
		
		<fcs_function name="aero-cos-alpha">
			<function>
				<product>
					<cos>
						<property>aero/alpha-rad</property>
					</cos>
				</product>
			</function>
			<output>aero/cos-alpha</output>
		</fcs_function>
		
		<fcs_function name="aero-sin-alpha">
			<function>
				<product>
					<sin>
						<property>aero/alpha-rad</property>
					</sin>
				</product>
			</function>
			<output>aero/sin-alpha</output>
		</fcs_function>
	
	</channel>

</flight_control>
